sp {move-block*prefer-push*previously-failed
   (state <s> ^name move-block
              ^prev-failure true
             -^prev-success true
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name choose-move)
   (<o2> ^name choose-push)
-->
   (<s> ^operator <o2> > <o1>)
}

sp {move-block*prefer-move*otherwise
   (state <s> ^name move-block
              -^prev-failure true
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name choose-move)
   (<o2> ^name choose-push)
-->
   (<s> ^operator <o1> > <o2>)
}

sp {move-block*prefer-push*previous-selection
   (state <s> ^name move-block
              ^prev-chosen-action push
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name choose-move)
   (<o2> ^name choose-push)
-->
   (<s> ^operator <o2> > <o1>)
}

sp {move-block*prefer-move*previous-selection
   (state <s> ^name move-block
              ^prev-chosen-action move
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name choose-move)
   (<o2> ^name choose-push)
-->
   (<s> ^operator <o1> > <o2>)
}

sp {sort-blocks*prefer*attend-to-scene-change
   (state <s> ^name sort-blocks
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name attend-to-scene-change)
   (<o2> ^name move-block)
-->
   (<s> ^operator <o1> > <o2>)
}

sp {sort-blocks*prefer*copy-distance*after*found
   (state <s> ^name sort-blocks
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name copy-distance)
   (<o2> ^name distance-command)
-->
   (<s> ^operator <o1> > <o2>)
}

sp {sort-blocks*prefer*replay-action
   (state <s> ^name sort-blocks
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name attend-to-scene-change)
   (<o2> ^name replay-last-action)
-->
   (<s> ^operator <o1> < <o2>)
}

sp {sort-blocks*prefer*finish-last-action
   (state <s> ^name sort-blocks
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name finish-last-action)
   (<o2> ^name << distance-command copy-distance move-block >>)
-->
   (<s> ^operator <o1> > <o2>)
}

sp {sort-blocks*prefer*replay-last-action
   (state <s> ^name sort-blocks
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name replay-last-action)
   (<o2> ^name << distance-command copy-distance move-block >>)
-->
   (<s> ^operator <o1> > <o2>)
}

sp {sort-blocks*prefer*find-distance
   (state <s> ^name sort-blocks
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name distance-command)
   (<o2> ^name move-block)
-->
   (<s> ^operator <o1> > <o2>)
}

sp {sort-blocks*prefer*shorter-move
   (state <s> ^name sort-blocks
              ^distances <d>
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name move-block
         ^block.handle <b1>
         ^location.handle <l1>)
   (<o2> ^name move-block
         ^block.handle <b2>
         ^location.handle <l2>)
   (<d> ^pair <p1>
        ^pair <p2>)
   (<p1> ^block <b1>
         ^location <l1>
         ^value <v1>)
   (<p2> ^block <b2>
         ^location <l2>
         ^value <v2> <= <v1>)
-->
   (<s> ^operator <o2> > <o1>)
}

sp {topstate*prefer*sort-blocks*when-replaying
   (state <s> ^name sort-blocks
              ^topstate <ts>)
-->
   (<s> ^operator <o1> > <o2>)
}