sp {replay-last-action*propose*move-block
	(state <s> ^name replay-last-action
               ^action <a>
               ^command <cmd>
              -^replay done)
-->
	(<s> ^operator <o> +)
    (<o> ^name move-block)
}

sp {replay-last-action*propose*finish-replay
	(state <s> ^name replay-last-action
               ^replay done)
-->
	(<s> ^operator <o> +)
    (<o> ^name finish-replay)
}

sp {replay-last-action*apply*finish-replay
	(state <s> ^name replay-last-action
               ^superstate <ss>
               ^operator.name finish-replay)
-->
	(<ss> ^replay done)
}

sp {move-block*replay*apply*choose-move*success
   (state <s> ^name move-block
              ^top-state.reward-link <rl>
              ^superstate <ss>
              ^block-volume <v>
              ^operator.name choose-move
              ^prev-successful true)
-->
   (<rl> ^reward.value 1)
   (write |Successful move reward|)
   (<ss> ^replay done)
}

sp {move-block*replay*apply*choose-push*success
   (state <s> ^name move-block
              ^top-state.reward-link <rl>
              ^superstate <ss>
              ^block-volume <v>
              ^operator.name choose-push
              ^prev-successful true)
-->
   (<rl> ^reward.value 1)
   (write |Successful push reward|)
   (<ss> ^replay done)
}

sp {move-block*replay*apply*choose-move*fail
   (state <s> ^name move-block
              ^top-state.reward-link <rl>
              ^superstate <ss>
              ^block-volume <v>
              ^operator.name choose-move
              ^prev-failure-reason)
-->
   (<rl> ^reward.value -1)
   (write |Failed move reward|)
   (<ss> ^replay done)
}

sp {move-block*replay*apply*choose-push*fail
   (state <s> ^name move-block
              ^top-state.reward-link <rl>
              ^superstate <ss>
              ^block-volume <v>
              ^operator.name choose-push
              ^prev-failure-reason)
-->
   (<rl> ^reward.value -1)
   (write |Failed push reward|)
   (<ss> ^replay done)
}

sp {move-block*select-move
	(state <s> ^name move-block
               ^block-volume { > 0.000008 <= 0.001 }
               ^operator <o> +)
    (<o> ^name choose-move)
-->
	(<s> ^operator <o> = 0.0)
 	(write (crlf) |Select-move small|)
 }

sp {move-block*select-move*2
	(state <s> ^name move-block
               ^block-volume { > 0.001 < 0.005 }
               ^operator <o> +)
    (<o> ^name choose-move)
-->
	(<s> ^operator <o> = 0.0)
    (write (crlf) |Select-move large|)
 }

sp {move-block*select-push
	(state <s> ^name move-block
               ^block-volume { > 0.000008 <= 0.001 }
               ^operator <o> +)
    (<o> ^name choose-push)
-->
	(<s> ^operator <o> = 0.0)
 	(write (crlf) |Select-push small|)
 }

sp {move-block*select-push*2
	(state <s> ^name move-block
               ^block-volume { > 0.001 < 0.005 }
               ^operator <o> +)
    (<o> ^name choose-push)
-->
	(<s> ^operator <o> = 0.0)
    (write (crlf) |Select-push large|)
 }

